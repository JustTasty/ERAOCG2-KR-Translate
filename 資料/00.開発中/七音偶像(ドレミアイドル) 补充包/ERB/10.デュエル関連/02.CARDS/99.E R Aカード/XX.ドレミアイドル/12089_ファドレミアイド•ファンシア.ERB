@CARDNAME_12089,参照先
;ココで지정卡片の名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = ファドレミアイドル•ファンシア
	CASE "略称"
		RESULTS = アイドルファンシア
	CASE "カテゴリ"
		RESULTS:0 = 도레미코드
		RESULTS:1 = ドレミアイドル
		RESULTS:2 = E.R.A
ENDSELECT


@CARD_12089(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 효과モン
	CASE "속성"
		RETURN 화염속성
	CASE "종족"
		RETURN 천사족
	CASE "レベル"
		RETURN 4
	CASE "攻撃力"
		RETURN 1600
	CASE "守備力"
		RETURN 400
	CASE "성별"
		RETURN 牝性
	CASE "分割"
		RETURN 펜듈럼
ENDSELECT
RETURN 0

@CARD_EXPLANATION_12089(종류)
#DIM DYNAMIC 종류


CALL TEXT_DECORATION("P_MAGIC")
PRINTL 这个卡名的①的灵摆的效果1回合只能使用1次
CALLFORM CARD_ABLE(3,마함起動)
PRINTL ①：自己的主要阶段才能发动。
PRINTL    将这张卡表側표시加入额外卡组，然后从手卡•额外卡组특수召唤1只等级为奇数的「도레미코드」怪兽。
CALL TEXT_DECORATION("P_MAGIC_2")
PRINTL 这个卡名的①②的怪兽效果1回合各能使用1次。
CALLFORM CARD_ABLE(1,소환時,특수소환時)
PRINTL ①：这张卡召唤、특수召唤成功的场合才能发动
PRINTL    从卡组把1只等级为奇数的「도레미코드」怪兽加入表側표시加入额外卡组
CALLFORM CARD_ABLE(2,필드起動)
PRINTL ②：自己的마법•陷阱ゾーン不存在等级为偶数的「도레미코드」怪兽才能发动
PRINTL    将这张卡在自己的마법•陷阱ゾーン表側표시放置，从卡组把1只等级为奇数的「도레미코드」怪兽加入手卡
CALLFORM CARD_ABLE(4,攻撃時誘発)
PRINTL  ●「ドレミアイドル•交響무대」赋予效果：
PRINTL    自己的마법•陷阱ゾーン不存在「ファドレミアイドル•ファンシア」，这张卡进行战斗的场合才能发动
PRINTL    将这张卡在自己的마법•陷阱ゾーン表側표시放置，本次战斗无效，那只怪兽变为「ファンシア推し」。
PRINTL    那只怪兽已经是「ファンシア推し」的场合、获得其控制权。
PRINTL
SETCOLOR C_D_GRAY
PRINTL    如果自己场上同时存在「ファドレミアイドル•ファンシア」和「ファンシア推し」的话………………
RESETCOLOR

@CARDSUMMON_AA_12089


@CARDCAN_12089(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,12089)
SIF RESULT == 1
	RETURN 0

IF 종류 == 손패起動
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	SIF 마함数(듀얼리스트) >= 5
		RETURN 0
	CALL FULLRESET
	효과範囲마함 = 1
	효과条件名前 = ファドレミアイドル•ファンシア
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT == 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 소환時 || 종류 == 특수소환時
	SIF 발동済_1(듀얼리스트,12089)
		RETURN 0
	CALL FULLRESET
	효과範囲덱 = 1
	효과条件カテゴリ = 도레미코드
	효과条件종류 = モン全般
	효과条件レベル:0 = 1
	효과条件レベル:1 = 3
	효과条件レベル:2 = 5
	효과条件レベル:3 = 7
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 필드起動
	SIF 발동済_2(듀얼리스트,12089)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	SIF 마함数(듀얼리스트) >= 5
		RETURN 0
	CALL FULLRESET
	효과範囲덱 = 1
	효과条件カテゴリ = 도레미코드
	효과条件종류 = モン全般
	효과条件レベル:0 = 1
	효과条件レベル:1 = 3
	효과条件レベル:2 = 5
	효과条件レベル:3 = 7
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	CALL FULLRESET
	효과範囲마함 = 1
	효과条件カテゴリ = 도레미코드
	효과条件종류 = モン全般
	효과条件レベル:0 = 2
	효과条件レベル:1 = 4
	효과条件レベル:2 = 6
	효과条件レベル:3 = 8
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT == 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 마함起動
	SIF 발동済_3(듀얼리스트,12089)
		RETURN 0
	SIF ゾーン != "마함"
		RETURN 0
	SIF GETVAR(@"%듀얼리스트%_魔_表:場所") >= 2
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	SIF モンスター数(듀얼리스트) >= 5
		RETURN 0
	CALL FULLRESET
	효과範囲손패 = 1
	효과範囲EX덱 = 1
	효과条件カテゴリ = 도레미코드
	효과条件종류 = EX以外全般
	효과条件レベル:0 = 1
	효과条件レベル:1 = 3
	효과条件レベル:2 = 5
	효과条件レベル:3 = 7
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 攻撃時誘発
	SIF ゾーン != "필드"
		RETURN 0
	SIF GETVARS(@"%듀얼리스트%_フィールド名") != "ドレミアイドル•交響무대"
		RETURN 0
	SIF 戦闘場所(듀얼리스트) != 場所
		RETURN 0
	SIF 戦闘場所(듀얼리스트,1) == 5
		RETURN 0
	SIF 마함数(듀얼리스트) >= 5
		RETURN 0
	CALL FULLRESET
	효과範囲마함 = 1
	효과条件名前 = ファドレミアイドル•ファンシア
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT == 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 지속효과
	SIF ゾーン != "필드" && ゾーン != "마함"
		RETURN 0
	RETURN 1
ELSEIF 종류 == ターン終了時強制
	SIF ゾーン != "필드"
		RETURN 0
	CALL FULLRESET
	효과範囲필드 = 1
	효과条件カテゴリ = ファンシア推し
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ENDIF
;---------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------------------------
;---------------------------------------------------------------------------------------------
@CARDEFFECT_12089(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC 対面者 
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC 选择卡片
#DIM DYNAMIC 调教对象
#DIM DYNAMIC 実行役대상


CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

IF 종류 == 손패起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_DISPOSE(듀얼리스트,ゾーン,場所,마함行き)
	ENDIF
ELSEIF 종류 == 소환時 || 종류 == 특수소환時
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089,1)
	IF RESULT == 0
		CALL FULLRESET
		효과範囲덱 = 1
		효과条件カテゴリ = 도레미코드
		효과条件종류 = モン全般
		효과条件レベル:0 = 1
		효과条件レベル:1 = 3
		효과条件レベル:2 = 5
		효과条件レベル:3 = 7
		효과条件行先플래그 = EX덱行き
		CALL CARD_ADD_GY_BASIC(듀얼리스트,"덱",ゾーン,場所)
	ENDIF
ELSEIF 종류 == 필드起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089,2)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_DISPOSE(듀얼리스트,ゾーン,場所,마함行き)
		CALL FULLRESET
		효과範囲덱 = 1
		효과条件カテゴリ = 도레미코드
		효과条件종류 = モン全般
		효과条件レベル:0 = 1
		효과条件レベル:1 = 3
		효과条件レベル:2 = 5
		효과条件レベル:3 = 7
		CALL CARD_ADD_ADV(듀얼리스트,ゾーン,場所)
	ENDIF
ELSEIF 종류 == 마함起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089,3)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_DISPOSE(듀얼리스트,ゾーン,場所,EX덱行き)
		CALL FULLRESET
		효과範囲손패 = 1
		효과範囲EX덱 = 1
		효과条件カテゴリ = 도레미코드
		효과条件종류 = EX以外全般
		효과条件レベル:0 = 1
		효과条件レベル:1 = 3
		효과条件レベル:2 = 5
		효과条件レベル:3 = 7
		CALL CARD_SP_SUMMON_ADV(듀얼리스트,ゾーン,場所)
		

		调教对象 = NO_TO_CHARANUM(2089)
		CALL CARD_SS_RESTRICTION(듀얼리스트)
		CALL CARD_EROTICS(상대プレイヤー,対面者)
		実行役대상 = RESULT
		SIF 调教对象 != -1 && 実行役대상 != -1
			CALL DoSol_business(実行役대상,调教对象)
	ENDIF
ELSEIF 종류 == 攻撃時誘発
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089,4)
	IF RESULT == 0
		CALL FULLRESET
		选择卡片 = 戦闘場所(듀얼리스트,1)
		CALL CARD_DISPOSE(듀얼리스트,ゾーン,場所,마함行き)
		调教对象 = NO_TO_CHARANUM(2089)
		IF GETVARS(@"%対面者%_MZ_追カテ:选择卡片")  == "ファンシア推し"
			TRYCALLFORM CARDNAME_{GETVAR(@"%対面者%_필드:选择卡片")}, "名前"
			PRINTFORML
			PRINTFORML 「%RESULTS%先生，来加入我们的亲卫队吧」
			PRINTFORML  对 %CALLNAME:调教对象%的心荡神迷的%RESULTS%不由自主땅点了点头！
			PRINTFORMW
			CALL CARD_REMOVAL_BASIC(듀얼리스트,"自動処理",选择卡片,"強奪",12089)
		ELSE
			CALL CARD_SET_CATEGORY(対面者,"필드",选择卡片,"ファンシア推し")
			TRYCALLFORM CARDNAME_{GETVAR(@"%対面者%_필드:选择卡片")}, "名前"
			PRINTFORML 
			PRINTFORML  %CALLNAME:调教对象%如蝴蝶般轻舞至后场避开攻击、将敌对行为化作演出的一环
			PRINTFORML  %RESULTS%被 %CALLNAME:调教对象%的偶像姿态매혹、变成了「ファンシア推し」！
			PRINTFORMW
			CALL EVADE_ATTACK(듀얼리스트)
		ENDIF
	ENDIF
ELSEIF  종류 == 지속효과
	CALL FULLRESET
	효과条件カテゴリ == ファンシア推し
	CALL STATCHANGE_EFFECT(듀얼리스트,"상대필드",場所,"無効")
	CALL STATCHANGE_EFFECT(듀얼리스트,"상대필드",場所,"戦無")
ELSEIF 종류 == ターン終了時強制
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,12089,4)
	IF RESULT == 0
		CALL FULLRESET
		효과範囲필드 = 1
		효과条件カテゴリ = ファンシア娅推し
		효과条件CNT = 1
		CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
		选择卡片 = RESULT	;亲卫队数目
		调教对象 = NO_TO_CHARANUM(2089)

			SETCOLOR C_PINK
		PRINTFORML  近距离접촉偶像的亲卫队们对 %CALLNAME:调教对象%产生了不轨之心
		PRINTFORML  众人突然闯入休息室将 %CALLNAME:调教对象%按倒并强行灌入了媚药
		PRINTFORMW
		CALL EROTIC_MOVE("媚毒汚染",调教对象,-1,100)
		IF GETVAR(@"%듀얼리스트%_MZ_조교:場所") >= 30
			PRINTFORML  经过反复的投药和调教、 %CALLNAME:调教对象%身体完全发情、内心也彻底굴복
			PRINTFORML  在休息室内主动侍奉着亲卫队们
			SIF TALENT:调教对象:연모 >= 1
				PRINTFORML  「 %CALLNAME:MASTER%………对不起………」
			PRINTFORMW
			CALL EROTIC_MOVE("全身凌辱",调教对象,-1,选择卡片*300 + GETVAR(@"%듀얼리스트%_MZ_조교:場所")*10)
		ELSEIF GETVAR(@"%듀얼리스트%_MZ_発情:場所") == 0
			PRINTFORML  %CALLNAME:调教对象%拼尽全力挣脱束缚、逃离了房间
			PRINTFORML  在媚药的作用下、 %CALLNAME:调教对象%的身体逐渐变得火热
			PRINTFORMW
		ELSEIF TALENT:调教对象:연모 >= 1 && GETVAR(@"%듀얼리스트%_MZ_조교:場所") == 0
			PRINTFORML  %CALLNAME:调教对象%发情的身体逐渐散失了力气……………………
			PRINTFORML  怀揣着对 %CALLNAME:MASTER%的恋心、 %CALLNAME:调教对象%爆发出最后一丝力量挣脱了束缚
			PRINTFORMW
			PRINTFORML  在后台的隐秘角落、 %CALLNAME:调教对象%一边思念着 %CALLNAME:MASTER%一边抚慰愈加火热的躯体
			PRINTFORML  「 %CALLNAME:MASTER%………救救我………」
			PRINTFORMW
			CALL EROTIC_MOVE("자위",调教对象,-1,300)
			CALL SET_FIELD_INFO(듀얼리스트,"필드",場所,"조교",5)
		ELSE
			PRINTFORML  %CALLNAME:调教对象%发情的身体使不出一点力气
			PRINTFORML  就这样在房间中被众人按倒、紧锁的房间中传出阵阵娇声
			SIF TALENT:调教对象:연모 >= 1
				PRINTFORML  「 %CALLNAME:MASTER%………救救我………」
			PRINTFORMW
			CALL EROTIC_MOVE("全身凌辱",调教对象,-1,选择卡片*100 + GETVAR(@"%듀얼리스트%_MZ_조교:場所")*10)
			CALL SET_FIELD_INFO(듀얼리스트,"필드",場所,"조교",选择卡片 * 10)
		ENDIF
		PRINTFORMW 调教进度 = {GETVAR(@"%듀얼리스트%_MZ_조교:場所")}
			RESETCOLOR
		CALL STATCHANGE_EFFECT(듀얼리스트,"자신",場所,"発情",2)
		CALL STATCHANGE_EFFECT(듀얼리스트,"자신",場所,"接可",2)
	ENDIF
ENDIF
RETURN