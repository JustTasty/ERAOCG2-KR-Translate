@CARDNAME_72183,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 둠즈 커맨드『Ｄ.Ｏ.Ｏ.Ｍ.Ｄ.Ｕ.Ｒ.Ｇ.』
	CASE "略称"
		RESULTS = D.O.O.M.D.U.R.G.
	CASE "カテゴリ"
		RESULTS:0 = 둠즈
ENDSELECT


@CARD_72183(参照先)
;名前専用
#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 装備마법
	CASE "추가日"
		RETURN 250809
ENDSELECT

RETURN 0

@CARD_EXPLANATION_72183(종류)
#DIM DYNAMIC 종류

CALLFORM CARD_ABLE(1,ターン開始時強制)
PRINTL ①：자신・상대のスタンバイフェイズに발동する。
PRINTL 상대に５００ダメージを与える。
CALLFORM CARD_ABLE(2,지속효과)
PRINTL ②：このカードが「둠즈」モンスターまたは기계족・바람속성Ｘモンスターに装備されている場合、
PRINTL 装備モンスターは상대の효과の대상にならず、このカードは以下の효과を得る。
CALLFORM CARD_ABLE(10,마함起動,フリー誘発)
PRINTL ●자신・상대ターンに１度、발동できる。
PRINTL 자신フィールドの装備モンスター以外の表側표시カード１枚を破壊する。
PRINTL 装備モンスターはこのターン、攻撃力が装備モンスターのレベル・ランク×１００アップし、
PRINTL 直接攻撃でき、戦闘を行ったダメージステップ終了時に破壊される。
;둠즈のメインモンスター（エララ、アマルテ、ドラステ）側に処理を書いています
PRINTL ③：Ｘモンスター以外の「둠즈」モンスターに装備されているこのカードが装備モンスターの효과で묘지へ送られた場合、
PRINTL 자신フィールドの기계족・바람속성Ｘモンスター１体を대상として발동する。
PRINTL このカードをそのモンスターに装備する。

@CARDCAN_72183(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 装備先
#DIMS DYNAMIC 装備者
#DIM DYNAMIC 条件달성, 3

CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

CALL 装備판정(듀얼리스트,場所,ゾーン)
装備者 = %RESULTS%
装備先 = RESULT

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,72183)
SIF RESULT == 1
	RETURN 0

IF ゾーン == "마함" && (종류 == 지속효과 || (종류 == 마함起動 || 종류 == フリー誘発) && GETVAR(@"%듀얼리스트%_魔_表:場所") == 1)
	SIF GETVAR(@"%装備者%_필드:装備先") == -1
		RETURN 0
	;「●」の효과
	IF 종류 == 마함起動 || 종류 == フリー誘発
		SIF 효과발동済(듀얼리스트,場所,ゾーン)
			RETURN 0
	ENDIF
	;装備モンスターチェック
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "종족"
	SIF RESULT == 기계족
		条件달성:0 = 1
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "속성"
	SIF RESULT == 바람속성
		条件달성:1 = 1
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "종류"
	SIF RESULT == 엑시즈
		条件달성:2 = 1

	;「둠즈」か機械・風엑시즈ならOK
	TRYCALLFORM CARDNAME_{GETVAR(@"%装備者%_필드:装備先")}, "カテゴリ"
	IF RESULTS == "둠즈"
		RETURN 1
	ELSEIF 条件달성:0 == 1 && 条件달성:1 == 1 && 条件달성:2 == 1
		RETURN 1
	ENDIF
	RETURN 0
;装備処理
ELSEIF 종류 == 마함起動 || 종류 == 손패起動
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	CALL FULLRESET
	효과範囲필드 = 1
	효과範囲상대필드 = 1
	효과条件표시 = 表側표시
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
;①の효과
ELSEIF 종류 == ターン開始時強制
	SIF ゾーン != "마함"
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_72183(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC 装備者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 装備先
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 攻撃力修正


CALL 装備판정(듀얼리스트,場所,ゾーン)
装備先 = RESULT	
装備者 = %RESULTS%


IF (종류 == 마함起動 || 종류 == フリー誘発) && GETVAR(@"%듀얼리스트%_魔_表:場所") == 1
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183,10)
	IF RESULT == 0
		CALL FULLRESET
		효과範囲필드 = 1
		효과範囲마함 = 1
		효과条件표시 = 表側표시
		효과条件行先플래그 = 破壊行き
		효과条件他所 = 1
		CALL CARD_ADD_GY_ADV(듀얼리스트,"필드",装備先)
		IF RESULT == 1
			攻撃力修正 = GETVAR(@"%듀얼리스트%_MZ_星:装備先") * 100
			CALL SET_FIELD_INFO(듀얼리스트,"필드",装備先,"一攻",攻撃力修正)
			CALL STATCHANGE_EFFECT(듀얼리스트,"装備",場所,"直攻",1)
			CALL SET_FIELD_INFO(듀얼리스트,"필드",装備先,"終戦",破壊行き)
		ENDIF
	ENDIF
ELSEIF 종류 == 마함起動 || 종류 == 손패起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183)
	IF RESULT == 0
		;손패から발동後、마법トラップゾーンにカード이동
		CALL FULLRESET
		효과範囲필드 = 1
		효과範囲상대필드 = 1
		CALLFORM CARD_EQUIP_ADV(듀얼리스트,場所,ゾーン)
	ENDIF
ELSEIF 종류 == 지속효과
	CALL FULLRESET
	CALL STATCHANGE_EFFECT(듀얼리스트,"装備",場所,"対耐")
ELSEIF 종류 == ターン開始時強制
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183,1)
	IF RESULT == 0
		CALL LIFE_CHANGE(듀얼리스트,"減少","효과",500,1)
	ENDIF
ENDIF
