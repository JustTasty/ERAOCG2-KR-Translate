@CARDNAME_72183,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 둠즈 커맨드『Ｄ.Ｏ.Ｏ.Ｍ.Ｄ.Ｕ.Ｒ.Ｇ.』
	CASE "略称"
		RESULTS = D.O.O.M.D.U.R.G.
	CASE "カテゴリ"
		RESULTS:0 = 둠즈
ENDSELECT


@CARD_72183(参照先)
;名前専用
#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 装備마법
	CASE "추가日"
		RETURN 250809
ENDSELECT

RETURN 0

@CARD_EXPLANATION_72183(종류)
#DIM DYNAMIC 종류

CALLFORM CARD_ABLE(1,ターン開始時強制)
PRINTL ①：자신 / 상대의 스탠바이 페이즈에 발동한다。
PRINTL 상대에게 ５００데미지를 준다。
CALLFORM CARD_ABLE(2,지속효과)
PRINTL ②：이 카드가 "둠즈" 몬스터 또는 기계족 / 바람속성 Ｘ몬스터에게 장착되어있는 경우、
PRINTL 장착 몬스터는 상대의 효과의 대상이 되지 않으며, 이 카드는 다음의 효과를 얻는다.
CALLFORM CARD_ABLE(10,마함起動,フリー誘発)
PRINTL ●자신 / 상대 턴에 １번、발동할 수 있다.
PRINTL 자신 필드의 장착 몬스터 이외의 앞면 표시 카드 １장을 파괴한다.
PRINTL 장착 몬스터는 이 턴에 공격력이 장착 몬스터의 레벨 / 랭크×１００ 오른다.
PRINTL 직접 공격할 수 있으며, 전투를 진행한 데미지 스텝 종료 시에 파괴된다.
;둠즈のメインモンスター（エララ、アマルテ、ドラステ）側に処理を書いています
PRINTL ③：Ｘ몬스터 이외의 "둠즈" 몬스터에 장착되어있는 이 카드가 장착 몬스터의 효과로 묘지로 보내진 경우、
PRINTL 자신 필드의 기계족 / 바람속성Ｘ 몬스터 １장을 대상으로 발동한다.
PRINTL 이 카드를 그 몬스터에 장착할 수 있다.

@CARDCAN_72183(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 装備先
#DIMS DYNAMIC 装備者
#DIM DYNAMIC 条件달성, 3

CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

CALL 装備판정(듀얼리스트,場所,ゾーン)
装備者 = %RESULTS%
装備先 = RESULT

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,72183)
SIF RESULT == 1
	RETURN 0

IF ゾーン == "마함" && (종류 == 지속효과 || (종류 == 마함起動 || 종류 == フリー誘発) && GETVAR(@"%듀얼리스트%_魔_表:場所") == 1)
	SIF GETVAR(@"%装備者%_필드:装備先") == -1
		RETURN 0
	;「●」の효과
	IF 종류 == 마함起動 || 종류 == フリー誘発
		SIF 효과발동済(듀얼리스트,場所,ゾーン)
			RETURN 0
	ENDIF
	;装備モンスターチェック
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "종족"
	SIF RESULT == 기계족
		条件달성:0 = 1
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "속성"
	SIF RESULT == 바람속성
		条件달성:1 = 1
	TRYCALLFORM CARD_{GETVAR(@"%装備者%_필드:装備先")}, "종류"
	SIF RESULT == 엑시즈
		条件달성:2 = 1

	;「둠즈」か機械・風엑시즈ならOK
	TRYCALLFORM CARDNAME_{GETVAR(@"%装備者%_필드:装備先")}, "カテゴリ"
	IF RESULTS == "둠즈"
		RETURN 1
	ELSEIF 条件달성:0 == 1 && 条件달성:1 == 1 && 条件달성:2 == 1
		RETURN 1
	ENDIF
	RETURN 0
;装備処理
ELSEIF 종류 == 마함起動 || 종류 == 손패起動
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	CALL FULLRESET
	효과範囲필드 = 1
	효과範囲상대필드 = 1
	효과条件표시 = 表側표시
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
;①の효과
ELSEIF 종류 == ターン開始時強制
	SIF ゾーン != "마함"
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_72183(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC 装備者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 装備先
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 攻撃力修正


CALL 装備판정(듀얼리스트,場所,ゾーン)
装備先 = RESULT	
装備者 = %RESULTS%


IF (종류 == 마함起動 || 종류 == フリー誘発) && GETVAR(@"%듀얼리스트%_魔_表:場所") == 1
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183,10)
	IF RESULT == 0
		CALL FULLRESET
		효과範囲필드 = 1
		효과範囲마함 = 1
		효과条件표시 = 表側표시
		효과条件行先플래그 = 破壊行き
		효과条件他所 = 1
		CALL CARD_ADD_GY_ADV(듀얼리스트,"필드",装備先)
		IF RESULT == 1
			攻撃力修正 = GETVAR(@"%듀얼리스트%_MZ_星:装備先") * 100
			CALL SET_FIELD_INFO(듀얼리스트,"필드",装備先,"一攻",攻撃力修正)
			CALL STATCHANGE_EFFECT(듀얼리스트,"装備",場所,"直攻",1)
			CALL SET_FIELD_INFO(듀얼리스트,"필드",装備先,"終戦",破壊行き)
		ENDIF
	ENDIF
ELSEIF 종류 == 마함起動 || 종류 == 손패起動
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183)
	IF RESULT == 0
		;손패から발동後、마법トラップゾーンにカード이동
		CALL FULLRESET
		효과範囲필드 = 1
		효과範囲상대필드 = 1
		CALLFORM CARD_EQUIP_ADV(듀얼리스트,場所,ゾーン)
	ENDIF
ELSEIF 종류 == 지속효과
	CALL FULLRESET
	CALL STATCHANGE_EFFECT(듀얼리스트,"装備",場所,"対耐")
ELSEIF 종류 == ターン開始時強制
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,72183,1)
	IF RESULT == 0
		CALL LIFE_CHANGE(듀얼리스트,"減少","효과",500,1)
	ENDIF
ENDIF
