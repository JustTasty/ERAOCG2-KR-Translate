@CARDNAME_4538,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 강철의 간호사 나이팅게일
	CASE "略称"
		RESULTS = 나이팅게일
	CASE "カテゴリ"
		RESULTS:0 = 영령
		RESULTS:1 = 버서커
		RESULTS:2 = FATE
ENDSELECT


@CARD_4538(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "외부자"
		RETURN 1
	CASE "종류"
		RETURN 효과モン
	CASE "속성"
		RETURN 땅속성
	CASE "종족"
		RETURN 전사족
	CASE "レベル"
		RETURN 4
	CASE "攻撃力"
		RETURN 1800
	CASE "守備力"
		RETURN 1300
	CASE "성별"
		RETURN 牝性
	CASE "추가日"
		RETURN 250810
ENDSELECT

RETURN 0



@CARD_EXPLANATION_4538(종류)
#DIM DYNAMIC 종류

PRINTL このカード名の②の효과は１ターンに１度しか使用できない。
CALLFORM CARD_ABLE(1,효과後誘発)
PRINTL ①：モンスターがフィールドから破壊された場合に발동できる。
PRINTL このカードを손패から특수소환する。
PRINTL その後、そのカードを守備표시で자신フィールドに특수소환する。
PRINTL そのカードはターン終了時まで표시形式を변경できない。

CALLFORM CARD_ABLE(0,지속효과)
PRINTL ②：このカードが자신メインフェイズにいる限り발동する。
PRINTL 자신のほかのモンスターから不調をすべて取り除く。
CALLFORM CARD_ABLE(3, ターン終了時強制)
PRINTL ③：자신ターン終了時に強制的に발동する。
PRINTL このカードは손패に戻る。

@CARDCAN_4538(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所

IF 종류 == 효과後強制誘発
	SIF ゾーン != "손패"
		RETURN 0
	CALL CARD_SS_CHECK(듀얼리스트,4538,"손패")
	SIF RESULT == 1
		RETURN 0
	CALL FULLRESET
	효과条件종류 = モン全般
	CALL CARD_CHECK_FIN_DATA(듀얼리스트,"破壊全般",2)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 종류 == 필드起動
	SIF 발동済_2(듀얼리스트,4538)
		RETURN 0
	SIF ゾーン != "필드"
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	RETURN 1
ELSEIF 종류 == ターン終了時強制
	SIF ゾーン != "필드"
		RETURN 0
	RETURN 1
ENDIF



@CARDEFFECT_4538(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC 選択カード
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 選択カード_ID,10
#DIMS DYNAMIC 対面者
#DIMS DYNAMIC 대상カード名
CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

IF 종류 == 효과後強制誘発
	;カード발동確認
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,4538)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_SP_SUMMON(듀얼리스트,ゾーン, 場所)

		選択カード_ID:0 =  GETVAR(@"%듀얼리스트%_直前破壊")
		選択カード_ID:1 =  GETVAR(@"%対面者%_直前破壊")
		CALL FULLRESET
		효과範囲묘지 = 1
		효과範囲상대묘지 = 1
		효과条件ID:0 = 999999
		효과条件ID:1 = 選択カード_ID:0
		효과条件ID:2 = 選択カード_ID:1
		효과추가종류 = 38
		CALL CARD_SP_SUMMON_ADV(듀얼리스트,ゾーン,場所,"守備표시")
	ENDIF
ELSEIF 종류 == 필드起動
	;カード발동確認
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,4538,2)
	IF RESULT == 0
		FOR カウンタ,0,5
			SIF カウンタ == 場所
				CONTINUE
			SIF GETVAR(@"%듀얼리스트%_필드:カウンタ") < 1
				CONTINUE
			VARSET 대상カード名
			TRYCALLFORM CARD_{GETVAR(@"%듀얼리스트%_필드:カウンタ")}, "성별"
			IF RESULT == 牝性 || RESULT == ふたなり
				대상カード名 = 미스
			ELSE
				대상カード名 = 미스터
			ENDIF
			TRYCALLFORM CARDNAME_{GETVAR(@"%듀얼리스트%_필드:カウンタ")}, "略称"
			대상カード名 = %대상カード名%・%RESULTS%
			IF RESULTS != ""
				SETCOLOR C_Ne_PINK
				PRINTFORML >>——MESSAGE:——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————>>>
				PRINTL
				PRINTFORMW 「では診察を開始します、速やかに終わらせましょう%대상カード名%」
				PRINTFORMW ・・・・・・
				IF GETVAR(@"%듀얼리스트%_MZ_悪Ｃ:カウンタ") >= 1
					PRINTFORML 「悪性腫瘍確認、コレは緊急摘出手術を要します、こらっ逃げるな！」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"悪Ｃ",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_無効:カウンタ") >= 1
					PRINTFORML 「麻痺효과ですか、ではマッサージで対処としましょう……ふんっ！！　はぁッ！！」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"無効",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_終処:カウンタ") >= 1
					PRINTFORML 「時間がありませんね、その死を断つ――！」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"終処",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_戦狂:カウンタ") >= 1
					PRINTFORML 「――どうでしょう、暴れまわって落ち着きましたか？」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"戦狂",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_戦無:カウンタ") >= 1
					PRINTFORML 「――戦えない？　腑抜けたことを！」（ﾊﾞｷｯ
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"戦無",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_直無:カウンタ") >= 1
					PRINTFORML 「マスター、%대상カード名%の自信回復のために一度砂袋になってください」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"直無",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_不材:カウンタ") >= 1
					PRINTFORML 「衛生的に특수소환の素材に不適切なようですね。さぁこちらへ……薬毒風呂を用意しました」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"不材",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_除処:カウンタ") >= 1
					PRINTFORML 「貴方の命を奪ってでも救――と제외されますね……別の手で対処します……」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"除処",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_表固:カウンタ") >= 1 && GETVAR(@"%듀얼리스트%_MZ_表固:カウンタ") != 2
					PRINTFORML 「体が硬いですね、では……はッ！　はあっ！！」（ﾊﾞｷｯﾎﾞｷｯ！
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"表固",0,1)
				ELSEIF GETVAR(@"%듀얼리스트%_MZ_表固:カウンタ") >= 1 && GETVAR(@"%듀얼리스트%_MZ_表固:カウンタ") == 2
					PRINTFORML 「包帯を取ってほしい？　まだまだ安静にする必要がありますので許可はできません」
				ENDIF
				PRINTFORMW ・・・・
				IF GETVAR(@"%듀얼리스트%_MZ_薬Ｃ:カウンタ") >= 1
					PRINTFORML 「毒はより強い薬毒で中和します。大丈夫です、고통は伴いますが依存症は無いので」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"薬Ｃ",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_조교:カウンタ") >= 1
					PRINTFORML 「조교？　バカげたことを、惚けてないでサーヴァントの自覚なさい！」（ﾊﾞｷｯ
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"조교",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_発情:カウンタ") >= 1
					PRINTFORML 「――強力な媚薬が霊基をめぐっている、除去します」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"発情",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_胸追:カウンタ") >= 1
					PRINTFORML 「胸部の異常な肥大化、絞り出し器で処置します――」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"胸追",0,1)
				ENDIF
				IF GETVAR(@"%듀얼리스트%_MZ_服状:カウンタ") >= 1
					PRINTFORML 「服の損傷、速やかに新たな服装の準備を――」
					CALL SET_FIELD_INFO(듀얼리스트,"필드",カウンタ,"服状",0,1)
				ENDIF
				PRINTFORMW ・・
				PRINTL 
				PRINTFORMW 「終了しました、次！」
				PRINTL 
				CUSTOMDRAWLINE ―
				RESETCOLOR
			ENDIF
		NEXT
	ENDIF
ELSEIF 종류 == ターン終了時強制
	CALL CARD_DISPOSE(듀얼리스트,ゾーン,場所,손패行き)
ENDIF

