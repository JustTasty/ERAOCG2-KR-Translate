@CARDNAME_99731,参照先
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 마인드 캡처 어플리케이션
	CASE "略称"
		RESULTS = MC App
	CASE "カテゴリ"
		RESULTS:0 = MC
		RESULTS:1 = E.R.A
ENDSELECT


@CARD_99731(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN エクシーズ
	CASE "属性"
		RETURN 光属性
	CASE "種族"
		RETURN 機械族
	CASE "レベル"
		RETURN 3
	CASE "攻撃力"
		RETURN 0
	CASE "守備力"
		RETURN 2200
ENDSELECT
RETURN 0

@CARDSUMMON_99731(決闘者,召喚カード,EX参照)
#DIMS DYNAMIC 決闘者
#DIM DYNAMIC 召喚カード
#DIM DYNAMIC EX参照

CALL RESETCONDITION_MAT
必要素材数 = 5
素材条件数自由 = 1
素材条件レベル = 3
素材条件カテゴリ = MC

IF EX参照 == 1
	CALL XYZCAN(決闘者,召喚カード,99731) 
	RETURN RESULT
ENDIF


@CARD_EXPLANATION_99731(種類)
#DIM DYNAMIC 種類

CALL TEXT_DECORATION("ROGUE")
PRINTL 「MC」レベル３モンスター×２
CALLFORM CARD_ABLE(1,戦場起動)
PRINTL ①：１ターンに１度、このカードのX素材を１つ取り除き発動できる。
PRINTL 自分と相手はデッキから「MC」魔法カードを１枚手札に加える。
CALLFORM CARD_ABLE(0,攻撃時誘発)
PRINTL ②：相手のモンスターの攻撃宣言時、このカードのX素材を１つ取り除いて発動できる。
PRINTL その攻撃を無効にし、相手の手札にランダムな「MC」カード１枚を加える。
CALL CARD_ABLE(0,効果後誘発)
PRINTL ③：相手が「MC」魔法カードを発動した場合に発動できる。
PRINTL このカードのX素材を１つ増やす。
CALLFORM CARD_ABLE(3,戦場→墓地,手札→墓地,デッキ→墓地,破壊→墓地,戦闘→墓地)
PRINTL ④：このカードが墓地へ送られた場合、自分の墓地のレベル３の「MC」モンスター３枚を対象として発動できる。
PRINTL そのモンスター３体をデッキに戻し、１枚ドローする。
CALL TEXT_DECORATION("ROGUE")

@CARDCAN_99731(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,99731)
SIF RESULT == 1
	RETURN 0
IF 種類 == 戦場起動
	SIF 発動済_1(決闘者,99731)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	SIF GETVAR(@"%決闘者%_MZ_Ｘ:場所") <= 0
		RETURN 0
	CALL FULLRESET
	効果範囲デッキ = 1
	効果条件カテゴリ = MC
	効果条件種類 = 魔法全般
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	CALL FULLRESET
	効果範囲相手デッキ = 1
	効果条件カテゴリ = MC
	効果条件種類 = 魔法全般
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == 攻撃時誘発
	SIF ゾーン != "戦場"
		RETURN 0
	SIF GETVAR(@"%決闘者%_MZ_Ｘ:場所") <= -1
		RETURN 0
	SIF バトルフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー == 決闘者
		RETURN 0
	CALL FULLRESET
	効果範囲相手戦場 = 1
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == 効果後誘発
	SIF ゾーン != "戦場"
		RETURN 0
	CALL FULLRESET
	効果条件種類 = 魔法全般
	効果条件カテゴリ = MC
	CALL CARD_CHECK_FIN_DATA(決闘者,"効果発動",1)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ELSEIF 種類 == 戦場→墓地 || 種類 == 手札→墓地 || 種類 == デッキ→墓地 || 種類 == 破壊→墓地 || 種類 == 戦闘→墓地
	SIF 発動済_3(決闘者,99731)
		RETURN 0
	CALL FULLRESET
	効果範囲墓地 = 1
	効果条件種類 = レベル持ち
	効果条件レベル = 3
	効果条件カテゴリ = MC
	効果条件CNT = 1
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT < 3
		RETURN 0
	CALL CARD_DRAW_CHECK
	RETURN 1
ENDIF

@CARDEFFECT_99731(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC 対面者 
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 조교대상

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

IF 種類 == 戦場起動
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,99731,1,X消費1)
	IF RESULT == 0
		CALL FULLRESET
		効果条件カテゴリ = MC
		効果条件種類 = 魔法全般
		CALL CARD_ADD_BASIC(決闘者,"デッキ",ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			効果条件カテゴリ = MC
			効果条件種類 = 魔法全般
			CALL CARD_ADD_BASIC(対面者,"デッキ",ゾーン,場所)
		ENDIF
	ENDIF
ELSEIF 種類 == 攻撃時誘発
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,99731,0,X消費1)
	IF RESULT == 0
		CALL EVADE_ATTACK(決闘者)
		CALL FULLRESET
		SETCOLOR C_PINK 
		SELECTCASE RAND:9
			CASE 0
				CALL CARD_GENERATE_HAND(対面者,79840)
			CASE 1
				CALL CARD_GENERATE_HAND(対面者,79841)
			CASE 2
				CALL CARD_GENERATE_HAND(対面者,79842)
			CASE 3
				CALL CARD_GENERATE_HAND(対面者,79843)
			CASE 4
				CALL CARD_GENERATE_HAND(対面者,79844)
			CASE 5
				CALL CARD_GENERATE_HAND(対面者,79845)
			CASE 6
				CALL CARD_GENERATE_HAND(対面者,79846)
			CASE 7
				CALL CARD_GENERATE_HAND(対面者,79847)
			CASE 8
				CALL CARD_GENERATE_HAND(対面者,79848)
		ENDSELECT
		RESETCOLOR
		PRINTFORML 마인드 캡처 어플리케이션が明滅すると互いの攻撃は止まり、
		PRINTFORMW 相手はいつのまにか催眠カードを手札に加えていた…。
	ENDIF
ELSEIF 種類 == 効果後誘発
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,99731,30)
	IF RESULT == 0
		CALL FULLRESET
		CALL SET_FIELD_INFO(決闘者,ゾーン,場所,"Ｘ",1)
		PRINTFORMW 発動した催眠カードが마인드 캡처 어플리케이션に力を与える…！
	ENDIF
ELSEIF 種類 == 戦場→墓地 || 種類 == 手札→墓地 || 種類 == デッキ→墓地 || 種類 == 破壊→墓地 || 種類 == 戦闘→墓地
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,99731,3)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲墓地 = 1
		効果条件種類 = レベル持ち
		効果条件レベル = 3
		効果条件カテゴリ = MC
		効果条件複数 = 3
		効果条件行先フラグ = デッキ行き
		CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			CALL CARDDRAW_BASIC(決闘者,1)
		ENDIF
	ENDIF
ENDIF
