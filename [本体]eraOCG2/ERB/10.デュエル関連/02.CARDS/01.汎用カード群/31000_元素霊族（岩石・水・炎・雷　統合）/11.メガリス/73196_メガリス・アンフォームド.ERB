@CARDNAME_73196,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 메가리스・アンフォームド
	CASE "略称"
		RESULTS = 메가리스・Ｕ
	CASE "カテゴリ"
		RESULTS:0 = 메가리스
ENDSELECT


@CARD_73196(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN 速攻魔法
	CASE "追加日"
		RETURN 250703
ENDSELECT

RETURN 0

@CARD_EXPLANATION_73196(種類)
#DIM DYNAMIC 種類

CALLFORM CARD_ABLE(0,手札起動,魔罠起動,フリー誘発)
PRINTL ①：以下の効果から１つを選択して発動できる。
PRINTL ●相手フィールドの全てのモンスターの攻撃力はターン終了時まで、
PRINTL フィールドの儀式モンスターの数×５００ダウンする。
PRINTL ●レベルの合計が儀式召喚するモンスターのレベルの倍以上になるように、
PRINTL 自分の手札・フィールドのモンスターをリリースし、
PRINTL デッキから「메가리스」儀式モンスター１体を守備表示で儀式召喚する。

@CARDCAN_73196(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 条件達成,2

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,73196)
SIF RESULT == 1
	RETURN 0

IF 種類 == 魔罠起動 || 種類 == 手札起動 || 種類 == フリー誘発
	IF ゾーン == "手札"
		SIF ターンプレイヤー != 決闘者
			RETURN 0
	ELSEIF ゾーン == "魔罠"
		SIF GETVAR(@"%決闘者%_魔_表:場所") == 3
			RETURN 0
	ELSE
		RETURN 0
	ENDIF

	CALL FULLRESET
	効果範囲戦場 = 1
	効果範囲相手戦場 = 1
	効果条件種類 = 儀式
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT == 1
		条件達成:0 = 1

	FOR カウンタ,2,9
		CALL FULLRESET
		効果範囲デッキ = 1
		効果条件種類 = 儀式
		効果条件カテゴリ = 메가리스
		効果条件レベル = カウンタ 
		CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
		SIF RESULT != 1
			CONTINUE
		CALL FULLRESET
		効果範囲戦場 = 1
		効果範囲手札 = 1
		効果条件種類 = モン全般
		効果条件CNT = 1
		CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
		SIF RESULT:2 >= カウンタ * 2
			条件達成:1 ++
	NEXT
	SIF 条件達成:0 < 1 && 条件達成:1 < 1
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_73196(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 攻撃力修正
#DIM DYNAMIC 条件達成,2
#DIM DYNAMIC 選択カード
#DIM DYNAMIC 条件レベル

IF 種類 == 魔罠起動 || 種類 == 手札起動 || 種類 == フリー誘発
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,73196)
	IF RESULT == 0
		CALL CARD_DISPOSE(決闘者,ゾーン,場所)
		CALL FULLRESET
		効果範囲戦場 = 1
		効果範囲相手戦場 = 1
		効果条件種類 = 儀式
		CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
		SIF RESULT == 1
			条件達成:0 = 1

		FOR カウンタ,2,9
			CALL FULLRESET
			効果範囲デッキ = 1
			効果条件種類 = 儀式
			効果条件カテゴリ = 메가리스
			効果条件レベル = カウンタ 
			CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
			SIF RESULT != 1
				CONTINUE
			CALL FULLRESET
			効果範囲戦場 = 1
			効果範囲手札 = 1
			効果条件種類 = モン全般
			効果条件CNT = 1
			CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
			SIF RESULT:2 >= カウンタ * 2
				条件達成:1 ++
		NEXT
		IF 条件達成:0 > 0 && 条件達成:1 > 0
			CALL YN_CHOICE(決闘者,"●相手モンスターの攻撃力をダウンさせる","●デッキから「메가리스」儀式モンスターを儀式召喚する")
		ELSEIF 条件達成:0 > 0
			RESULT = 0
		ELSEIF 条件達成:1 > 0
			RESULT = 1
		ENDIF

		IF RESULT == 0
			CALL FULLRESET
			効果範囲戦場 = 1
			効果範囲相手戦場 = 1
			効果条件種類 = 儀式
			効果条件CNT = 1
			CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
			攻撃力修正 = RESULT * 500
			CALL FULLRESET
			CALL STATCHANGE_EFFECT(決闘者,"相手戦場",場所,"一攻")

		ELSEIF RESULT == 1
			CALL FULLRESET
			効果条件種類 = 儀式
			効果条件カテゴリ = 메가리스
			CALL CARD_CHOOSE_BASIC(決闘者,"デッキ",ゾーン,場所)
			選択カード = RESULT
			IF 選択カード != 9999
				TRYCALLFORM CARD_{RESULT:99},"レベル"
				条件レベル = RESULT * 2
				WHILE 条件レベル > 0
					PRINTFORMW 必要レベル：{条件レベル}
					CALL FULLRESET
					効果範囲手札 = 1
					効果範囲戦場 = 1
					効果条件種類 = モン全般
					CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
					SIF RESULT != 1
						RETURN 0
					TRYCALLFORM CARD_{RESULT:1},"レベル"
					条件レベル -= RESULT
				WEND
				CALL FULLRESET
				CALL CARD_EX_SUMMON(決闘者,"デッキ",選択カード,"守備表示")
			ENDIF
		ENDIF
	ENDIF
ENDIF