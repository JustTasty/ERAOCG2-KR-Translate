@CARDNAME_31198,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 메가리스 노트라 플루라
	CASE "略称"
		RESULTS = 트라 플루
	CASE "カテゴリ"
		RESULTS:0 = 메가리스
ENDSELECT


@CARD_31198(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN 儀式
	CASE "属性"
		RETURN 地属性
	CASE "種族"
		RETURN 元素霊族
	CASE "レベル"
		RETURN 12
	CASE "攻撃力"
		RETURN 3700
	CASE "守備力"
		RETURN 2700
	CASE "追加日"
		RETURN 250726
ENDSELECT

RETURN 0

@CARDSUMMON_31198(決闘者,召喚カード,EX参照)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC 出処
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 召喚カード
#DIM DYNAMIC EX参照

CALL RESETCONDITION_MAT
必要レベル数 = 12
素材条件種類 = 儀式

IF EX参照 == 1
	CALL RITCAN(決闘者,召喚カード,31198) 
	RETURN RESULT
ENDIF

@CARD_EXPLANATION_31198(種類)
#DIM DYNAMIC 種類

PRINTL 「메가리스」カードにより降臨
PRINTL このカードは儀式モンスターのみを使用した儀式召喚でしか特殊召喚できない。
PRINTL このカード名の①②の効果はそれぞれ１ターンに１度しか使用できない。
CALLFORM CARD_ABLE(1,手札起動)
PRINTL ①：手札のこのカードを相手に見せて発動できる。
PRINTL このターン、自分の「메가리스」カードの効果の発動に対して相手は効果を発動できない。
CALLFORM CARD_ABLE(2,発動誘発)
PRINTL ②：相手がカードの効果を発動した時に発動できる。
PRINTL その発動を無効にし破壊する。
PRINTL その後、自分の墓地の「메가리스」カード２枚をデッキに戻し、相手フィールドのモンスター１体をリリースできる。


@CARDCAN_31198(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 条件達成
#DIMS DYNAMIC 対面者


CALL 対面者判定(決闘者)
対面者 = %RESULTS%

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,31198)
SIF RESULT == 1
	RETURN 0

IF 種類 == 手札起動
	SIF 発動済_1(決闘者,31198)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 決闘者
		RETURN 0
	RETURN 1

ELSEIF 種類 == 短紋章起動
	RETURN 1

ELSEIF 種類 == 発動誘発
	SIF 発動済_2(決闘者,31198)
		RETURN 0
	SIF ゾーン != "戦場"
		RETURN 0
	CALL FULLRESET
	CALL CARD_CHECK_START_DATA(決闘者,1)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_31198(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 攻撃力修正
#DIM DYNAMIC 選択カード
#DIMS DYNAMIC 対面者

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

IF 種類 == 手札起動
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,31198,1)
	IF RESULT == 0
		CALL CARD_RESERV(決闘者,31198,短紋章予約)
	ENDIF

ELSEIF 種類 == 短紋章起動
	CALL SET_CAT_SOGAI_INFO(決闘者,"메가리스")

ELSEIF 種類 == 発動誘発
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,31198,2)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_REMOVAL_BASIC(決闘者,"発動無効",場所,"墓地")

		CALL FULLRESET
		効果範囲相手戦場 = 1
		効果条件除去種 = リリース
		CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
		SIF RESULT != 1
			RETURN 0

		CALL FULLRESET
		効果範囲墓地 = 1
		効果条件カテゴリ = 메가리스
		効果条件複数 = 2
		効果条件行先フラグ = デッキ行き
		効果条件任意 = 1
		CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			CALL CARD_REMOVAL_BASIC(決闘者,"戦場単体",場所,"リリース")
		ENDIF
		RETURN 1
	ENDIF
	RETURN 0
ENDIF

