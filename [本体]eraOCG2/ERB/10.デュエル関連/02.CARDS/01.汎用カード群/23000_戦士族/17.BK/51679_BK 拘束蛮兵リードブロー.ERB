@CARDNAME_51679,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = BK 구속만병 리드블로
	CASE "略称"
		RESULTS = 리드블로
	CASE "カテゴリ"
		RESULTS:0 = BK
ENDSELECT


@CARD_51679(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 엑시즈
	CASE "속성"
		RETURN 화염속성
	CASE "종족"
		RETURN 전사족 
	CASE "レベル"
		RETURN 4
	CASE "攻撃力"
		RETURN 2200
	CASE "守備力"
		RETURN 2000
	CASE "추가日"
		RETURN 250707
ENDSELECT

RETURN 0
@CARDSUMMON_51679(듀얼리스트,소환カード,EX参照)
#DIMS DYNAMIC 듀얼리스트
#DIM DYNAMIC 소환カード
#DIM DYNAMIC EX参照
#DIM DYNAMIC カウンタ

CALL RESETCONDITION_MAT
必要素材数 = 2
素材条件レベル = 4
素材条件カテゴリ = BK

IF EX参照 == 1
	CALL XYZCAN(듀얼리스트,소환カード,51679) 
	RETURN RESULT
ENDIF



@CARD_EXPLANATION_51679(종류)
#DIM DYNAMIC 종류

PRINTL 레벨４"ＢＫ" 몬스터×２
PRINTL 이 카드명의 ①의 효과는 １턴에 １번밖에 사용할 수 없다。
CALLFORM CARD_ABLE(0,身代효과)
PRINTL ①：자신 필드의 "ＢＫ"몬스터가 전투 / 효과로 파괴될 경우、
PRINTL 대신에 이 카드의 Ｘ소재를 １개 제거할 수 있다。
PRINTL ②：「ＢＫ」카드나 「카운터」함정 카드의 효과로 이 카드의 Ｘ소재가 제거된 경우에 발동한다。
PRINTL 이 카드의 공격력은 ８００올린다。
;攻撃力アップは素材取り除く側で処理しています
CALL CARD_ABLE(1,攻撃後誘発)
PRINTL ③：이 카드가 전투로 몬스터를 파괴한 경우에 발동할 수 있다。
PRINTL 그 몬스터의 원래 공격력 만큼의 데미지를 상대에게 준다。

@CARDCAN_51679(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIMS DYNAMIC 対面者
CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,51679)
SIF RESULT == 1
	RETURN 0

IF 종류 == 身代효과
	SIF ゾーン != "필드"
		RETURN 0
	SIF GETVAR(@"%듀얼리스트%_MZ_Ｘ:場所") <= -1
		RETURN 0
	TRYCALLFORM CARDNAME_{破壊대상ID}("カテゴリ")
	SIF !MATCH(RESULTS,"BK")
		RETURN 0
	TRYCALLFORM CARD_{破壊대상ID}("종류")
	SIF RESULT > モン全般
		RETURN 0
	SIF !GROUPMATCH(破壊종류,"효과","戦闘")
		RETURN 0
	RETURN 1
ELSEIF 종류 == 攻撃後誘発
	SIF ゾーン != "필드"
		RETURN 0
	SIF 戦闘場所(듀얼리스트) != 場所
		RETURN 0
	SIF 直前戦闘破壊ID(듀얼리스트,1) == 0
		RETURN 0	
	RETURN 1
ENDIF

@CARDEFFECT_51679(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIMS DYNAMIC 対面者
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ
#DIM DYNAMIC ダメージ量
CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%


IF 종류 == 身代효과
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,51679,0,X消費1)
	IF RESULT == 0
		CALL FULLRESET
		PRINTL 
		SETCOLOR C_YELLOW
		PRINTL 리드블로の구속が解かれた！
		RESETCOLOR
		PRINTL 
		CALL SET_FIELD_INFO(듀얼리스트,"필드",場所,"永攻",800)
		RETURN 1
	ENDIF
	RETURN 0
ELSEIF 종류 == 攻撃後誘発
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,51679)
	IF RESULT == 0
		PRINTL 
		SETCOLOR C_YELLOW
		PRINTL Ｋ Ｏ ！！
		RESETCOLOR
		PRINTL 
		CALLFORM CARD_{直前戦闘破壊ID(듀얼리스트,1)}("攻撃力")
		ダメージ量 = RESULT
		CALL LIFE_CHANGE(듀얼리스트,"減少","효과",ダメージ量,1)
	ENDIF
ENDIF
