@CARDNAME_81530,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 현람한 권능
	CASE "略称"
		RESULTS = 현람한 권능
	CASE "カテゴリ"
		RESULTS:0 = 현람
ENDSELECT


@CARD_81530(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN 永続罠
	CASE "追加日"
		RETURN 250726
ENDSELECT

RETURN 0

@CARD_EXPLANATION_81530(種類)
#DIM DYNAMIC 種類

CALLFORM CARD_ABLE(10,魔罠起動,フリー誘発)
PRINTL ①：１ターンに１度、「현람」カードを含む自分の墓地の速攻魔法カード３枚を対象として発動できる。
PRINTL 以下を適用する。
PRINTL ●そのカードをデッキに戻し、自分は１枚ドローする。
PRINTL ●このターン、自分フィールドの風属性モンスターの攻撃力・守備力は３００アップする。
CALLFORM CARD_ABLE(0,永続効果)
PRINTL ②：自分の「サイクロン」は以下の効果を得る（１度の発動につき１つしか適用できない）。
PRINTL この効果は無効化されない。
PRINTL ●相手フィールドの表側表示カード１枚の効果を無効にできる。
PRINTL ●相手の手札・フィールドの魔法・罠カードの効果にチェーンして発動した場合、その発動した効果を無効にできる。
CALLFORM CARD_ABLE(0,破壊→墓地)
PRINTL ③：このカードが「サイクロン」の効果で破壊された場合に発動できる。
PRINTL このカードを自分フィールドにセットする。


@CARDCAN_81530(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC カウンタ

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,81530)
SIF RESULT == 1
	RETURN 0

IF 種類 == 魔罠起動 && GETVAR(@"%決闘者%_魔_表:場所") == 1 || (種類 == フリー誘発 && ゾーン == "魔罠")
	SIF 効果発動済(決闘者,場所,ゾーン)
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") != 1
		RETURN 0
	CALL FULLRESET
	効果範囲墓地 = 1
	効果条件カテゴリ = 현람
	効果条件種類 = 速攻魔法
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	CALL FULLRESET
	効果範囲墓地 = 1
	効果条件種類 = 速攻魔法
	効果条件CNT = 1
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT < 3
		RETURN 0
	CALL CARD_DRAW_CHECK
	RETURN 1

ELSEIF 種類 == 攻紋章起動
	RETURN 1

ELSEIF 種類 == 魔罠起動
	SIF GETVAR(@"%決闘者%_魔_表:場所") == 3	
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") == 1
		RETURN 0
	RETURN 1

ELSEIF 種類 == 永続効果
	SIF ゾーン != "魔罠"
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") != 1
		RETURN 0
	RETURN 1

ELSEIF 種類 == 破壊→墓地
	SIF ゾーン != "墓地"
		RETURN 0
	TRYCALLFORM CARDNAME_{処理中_効果ID},"名前"
	SIF RESULTS != "サイクロン"
		RETURN 0
	SIF 魔罠数(決闘者) >= 5
		RETURN 0
	RETURN 1
ENDIF



@CARDEFFECT_81530(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC 選択カード
#DIM DYNAMIC カウンタ
#DIM DYNAMIC カウンタB
#DIM DYNAMIC 属性数


IF 種類 == 魔罠起動 && GETVAR(@"%決闘者%_魔_表:場所") == 1 || (種類 == フリー誘発 && ゾーン == "魔罠")
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,81530,10)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲墓地 = 1
		効果条件カテゴリ = 현람
		効果条件種類 = 速攻魔法
		効果条件行先フラグ = デッキ行き
		CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			効果範囲墓地 = 1
			効果条件種類 = 速攻魔法
			効果条件行先フラグ = デッキ行き
			効果条件複数 = 2
			CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
			IF RESULT == 1
				CALL CARDDRAW_BASIC(決闘者,1)
				CALL CARD_RESERV(決闘者,81530,攻紋章予約)
			ENDIF
		ENDIF
	ENDIF

ELSEIF 種類 == 攻紋章起動
	CALL FULLRESET
	効果条件属性 = 風属性
	CALL STATCHANGE_BASIC(決闘者,"戦場",場所,300,300)

ELSEIF 種類 == 魔罠起動
	;カード発動＆設置まで
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,81530)
	IF RESULT == 0
	ENDIF

ELSEIF 種類 == 破壊→墓地
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,81530)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲墓地 = 1
		効果条件名前 = 현람한 권능
		CALL CARD_SET_ADV(決闘者,ゾーン,場所,"裏側表示")
	ENDIF
ENDIF
