@CARDNAME_2272,参照先
;ココで지정カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 킬러튠 클립
	CASE "略称"
		RESULTS = ＫＴ 클립
	CASE "カテゴリ"
		RESULTS:0 = 킬러튠
ENDSELECT


@CARD_2272(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "종류"
		RETURN 효과モン
	CASE "속성"
		RESULT:1 = 빛속성
		RETURN 어둠속성
	CASE "종족"
		RETURN 원소정령족
	CASE "レベル"
		RETURN 2
	CASE "攻撃力"
		RETURN 800
	CASE "守備力"
		RETURN 1000
	CASE "성별"
		RETURN 牝性
	CASE "튜너"
		RETURN 1
	CASE "추가日"
		RETURN 250823
ENDSELECT

RETURN 0

@CARD_EXPLANATION_2272(종류)
#DIM DYNAMIC 종류

PRINTL 이 카드명의 ①②의 효과는 각각 １턴에 １번밖에 사용할 수 없다。
CALLFORM CARD_ABLE(1,손패起動,フリー誘発)
PRINTL ①：이 카드가 패에 존재하는 경우、상대 메인 페이즈에 발동할 수 있다。
PRINTL 이 카드를 특수 소환한다。
PRINTL 그 후、이하의 효과에서 １개를 고르고 적용할 수 있다。
PRINTL ●자신 필드의 몬스터를 Ｓ소재로서、Ｓ몬스터의 튜너 １장의 Ｓ소환을 한다。
PRINTL ●패의 튜너 １장과 필드의 이 카드를 Ｓ소재로서 묘지로 보내고、
PRINTL 　ＥＸ덱에서 Ｓ몬스터의 튜너 １장을 Ｓ소환한다。
CALLFORM CARD_ABLE(2,S素材時효과)
PRINTL ②：이 카드가 Ｓ소재로서 묘지로 보내진 경우에 발동할 수 있다。
PRINTL 상대 ＥＸ덱의 카드（융합 / Ｓ / Ｘ / Ｌ / 초차원）을 무작위로 １장 제외한다。
PRINTL （이 효과로 제외한 카드가 제외될 때의 효과는 발동할 수 없다）
CALLFORM CARD_ABLE(10,필드起動)
PRINTL ③：１턴에 １번、자신 메인 페이즈에 발동할 수 있다。
PRINTL 패의 튜너 １장과 필드의 이 카드를 Ｓ소재로서 묘지로 보내고、
PRINTL ＥＸ덱에서 Ｓ몬스터 １장을 Ｓ소환한다。
PRINTL 이 효과는、이 카드의 효과가 무효가 되어있거나 발동할 수 없는 상태에서도 발동 가능하며、
PRINTL 상대는 이 효과에 대해서 카드의 효과를 발동할 수 없다。


@CARDCAN_2272(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所

IF 종류 == 필드起動
	;裏だったらダメ
	SIF GETVAR(@"%듀얼리스트%_MZ_表:場所") == 3
		RETURN 0
	;素材불가だったらダメ
	SIF GETVAR(@"%듀얼리스트%_MZ_不材:場所") >= 1
		RETURN 0
	SIF 효과발동済(듀얼리스트,場所,ゾーン)
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	SIF ターンプレイヤー != 듀얼리스트
		RETURN 0
	CALL KILLERTUNE_CHECK(듀얼리스트,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ENDIF

CALL CARD_NEGATE(듀얼리스트,종류,ゾーン,場所,2272)
SIF RESULT == 1
	RETURN 0

IF 종류 == 손패起動 || 종류 == フリー誘発
	SIF ゾーン != "손패"
		RETURN 0
	SIF 발동済_1(듀얼리스트,2272)
		RETURN 0
	SIF ターンプレイヤー == 듀얼리스트
		RETURN 0
	SIF メインフェイズ != 1
		RETURN 0
	CALL CARD_SS_CHECK(듀얼리스트,2272,ゾーン)
	SIF RESULT == 1
		RETURN 0
	RETURN 1

ELSEIF 종류 == S素材時효과
	SIF 발동済_2(듀얼리스트,2272)
		RETURN 0
	SIF GETVAR(@"%듀얼리스트%_제외NG置換") >= 1
		RETURN 0
	CALL FULLRESET
	효과範囲상대EX덱 = 1
	효과条件종류 = EXモン全般
	CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ENDIF

@CARDEFFECT_2272(듀얼리스트,종류,ゾーン,場所)
#DIMS DYNAMIC 듀얼리스트
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 종류
#DIM DYNAMIC 場所
#DIMS DYNAMIC 対面者
#DIM DYNAMIC カウンタ
#DIM DYNAMIC 選択カード
#DIM DYNAMIC EXカードID,50
#DIM DYNAMIC 必要レベル
#DIM DYNAMIC 발동불가,2

CALL 対面者판정(듀얼리스트)
対面者 = %RESULTS%

IF 종류 == 손패起動 || 종류 == フリー誘発
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,2272,1)
	IF RESULT == 0
		CALL FULLRESET
		CALL CARD_SP_SUMMON(듀얼리스트,ゾーン,場所)
		IF RESULT == 1
			CALL FULLRESET
			효과範囲EX덱 = 1
			효과条件종류 = 싱크로
			효과条件튜너 = 1
			효과条件소환可 = 1
			CALL CARD_CHECK_ADV(듀얼리스트,종류,ゾーン,場所)
			SIF RESULT != 1
				발동불가:0 = 1
			CALL KILLERTUNE_CHECK(듀얼리스트,カード소환先,1)
			SIF RESULT != 1
				발동불가:1 = 1

			SIF 발동불가:0 == 1 && 발동불가:1 == 1
				RETURN 0
			SIF 듀얼리스트 == "자신"
				PRINTL 싱크로 소환하시겠습니까？
			CALL YN_CHOICE(듀얼리스트)
			
			IF 발동불가:0 != 1 && 발동불가:1 != 1
				CALL YN_CHOICE(듀얼리스트,"●필드의 몬스터로 Ｓ소환을 한다。","●패의 튜너와 이 카드로 Ｓ소환을 한다。")
			ELSEIF 발동불가:0 != 1
				RESULT = 0
			ELSEIF 발동불가:1 != 1
				RESULT = 1
			ENDIF

			IF RESULT == 0
				CALL FULLRESET
				효과条件종류 = 싱크로
				효과条件튜너 = 1
				효과条件소환可 = 1
				CALL CARD_CHOOSE_BASIC(듀얼리스트,"EX덱",ゾーン,場所)
				IF RESULT != 9999
					選択カード = RESULT
					TRYCALLFORM CARDSUMMON_{RESULT:99}(듀얼리스트,選択カード)
					CALL SYNSUMMON(듀얼리스트, 選択カード)
				ENDIF

			ELSEIF RESULT == 1
				CALL KILLERTUNE_CHECK(듀얼리스트,カード소환先)
				IF RESULT == 1
					FOR カウンタ,0,50
						EXカードID:カウンタ = RESULT:(カウンタ+1)
					NEXT

					CALL FULLRESET
					FOR カウンタ,0,50
						효과条件ID:カウンタ = EXカードID:カウンタ
					NEXT
					CALL CARD_CHOOSE_BASIC(듀얼리스트,"EX덱",ゾーン,場所)
					IF RESULT != 9999
						選択カード = RESULT
						CALL KILLERTUNE_SYNSUMMON(듀얼리스트,"필드",カード소환先,選択カード)
					ENDIF
				ENDIF
			ENDIF
		ENDIF
	ENDIF

ELSEIF 종류 == S素材時효과
	CALL CARD_CHOICE(듀얼리스트,종류,ゾーン,場所,2272,2)
	IF RESULT == 0
		$INPUT_LOOP
		選択カード = RAND:現EX山札数(対面者)
		TRYCALLFORM CARD_{GETVAR(@"%対面者%_EX덱:選択カード")},"종류"
		SIF !GROUPMATCH(RESULT,융합,싱크로,엑시즈,링크,초차원)
			GOTO INPUT_LOOP
		CALL CARD_DISPOSE(対面者,"EX덱",選択カード,完全제외行き)
	ENDIF

ELSEIF 종류 == 필드起動
	CALL CARD_CHOICE(듀얼리스트,EX덱起動,ゾーン,場所,2272,10)
	IF RESULT == 0
		CALL KILLERTUNE_CHECK(듀얼리스트,場所)
		IF RESULT == 1
			FOR カウンタ,0,50
				EXカードID:カウンタ = RESULT:(カウンタ+1)
			NEXT

			CALL FULLRESET
			FOR カウンタ,0,50
				효과条件ID:カウンタ = EXカードID:カウンタ
			NEXT
			CALL CARD_CHOOSE_BASIC(듀얼리스트,"EX덱",ゾーン,場所)
			IF RESULT != 9999
				選択カード = RESULT
				CALL KILLERTUNE_SYNSUMMON(듀얼리스트,ゾーン,場所,選択カード)
			ENDIF
		ENDIF
	ENDIF
ENDIF
