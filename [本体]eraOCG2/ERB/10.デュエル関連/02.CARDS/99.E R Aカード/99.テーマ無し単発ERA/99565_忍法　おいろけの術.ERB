@CARDNAME_99565,参照先
;ココで指定カードの名前、略称を返す予定
#DIMS DYNAMIC 参照先

VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "名前"
		RESULTS = 인법　에로변신술
	CASE "略称"
		RESULTS = 인법　에로변신술
	CASE "カテゴリ"
		RESULTS:0 = 인법
		RESULTS:1 = E.R.A
ENDSELECT


@CARD_99565(参照先)

#DIMS DYNAMIC 参照先
VARSET RESULT
VARSET RESULTS

SELECTCASE 参照先
	CASE "種類"
		RETURN 永続罠
	CASE "追加日"
		RETURN 250720
ENDSELECT

RETURN 0

@CARD_EXPLANATION_99565(種類)
#DIM DYNAMIC 種類

CALLFORM CARD_ABLE(0,魔罠起動,フリー誘発)
PRINTL ①：자신 필드의 앞면 표시인 "첩자" 몬스터 １장을 릴리스하고 이 카드를 발동할 수 있다。
PRINTL 그 몬스터와는 카드명이 다른 암컷 몬스터 １장을 패 / 덱에서 특수 소환한다。
PRINTL 그 후、상대 플레이어의 수컷 몬스터 １장을 골라、그 컨트롤을 얻을 수 있다。
PRINTL （이 효과는 대상내성 / 함정내성의 영향을 받지 않는다）


@CARDCAN_99565(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC 効果制限達成
#DIM DYNAMIC カウンタ

CALL CARD_NEGATE(決闘者,種類,ゾーン,場所,99565)
SIF RESULT == 1
	RETURN 0

IF 種類 == 魔罠起動 || 種類 == フリー誘発
	SIF ゾーン != "魔罠"
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") == 3	
		RETURN 0
	SIF GETVAR(@"%決闘者%_魔_表:場所") == 1
		RETURN 0
	CALL FULLRESET
	効果範囲戦場 = 1
	効果条件カテゴリ = 첩자
	効果条件表示 = 表側表示
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0

	CALL FULLRESET
	効果範囲手札 = 1
	効果範囲デッキ = 1
	効果条件性別 = 牝性
	効果条件召喚可 = 2
	CALL CARD_CHECK_ADV(決闘者,種類,ゾーン,場所)
	SIF RESULT != 1
		RETURN 0
	RETURN 1
ENDIF



@CARDEFFECT_99565(決闘者,種類,ゾーン,場所)
#DIMS DYNAMIC 決闘者
#DIMS DYNAMIC 対面者
#DIMS DYNAMIC ゾーン
#DIM DYNAMIC 種類
#DIM DYNAMIC 場所
#DIM DYNAMIC 選択カード,2
#DIM DYNAMIC カウンタ
#DIMS DYNAMIC 選択カード名前
#DIM DYNAMIC 選択カード_ID
#DIM DYNAMIC 調教対象,2
#DIMS DYNAMIC 調教対象名前,2
#DIM DYNAMIC レイプ回数
#DIM DYNAMIC 絶頂回数
#DIM DYNAMIC 寝取りフラグ

CALL 対面者判定(決闘者)
対面者 = %RESULTS%

IF 種類 == 魔罠起動 || 種類 == フリー誘発
	CALL CARD_CHOICE(決闘者,種類,ゾーン,場所,99565)
	IF RESULT == 0
		CALL FULLRESET
		効果範囲戦場 = 1
		効果条件カテゴリ = 첩자
		効果条件表示 = 表側表示
		CALL CARD_ADD_GY_ADV(決闘者,ゾーン,場所)
		IF RESULT == 1
			TRYCALLFORM CARDNAME_{RESULT:1},"名前"
			選択カード名前 = %RESULTS%

			CALL FULLRESET
			効果範囲手札 = 1
			効果範囲デッキ = 1
			効果条件性別 = 牝性
			効果条件固名前 = %選択カード名前%
			CALL CARD_SP_SUMMON_ADV(決闘者,ゾーン,場所)
			IF RESULT == 1
				選択カード:0 = カード召喚先
				選択カード_ID = RESULT:1
				CALL CARD_EROTICS(選択カード_ID)
				調教対象:0 = RESULT
				IF 調教対象:0 != -1
					調教対象名前:0 = %CALLNAME:(調教対象:0)%
				ELSE
					TRYCALLFORM CARDNAME_{選択カード_ID},"名前"
					調教対象名前:0 = %RESULTS%
				ENDIF

				CALL FULLRESET
				効果条件性別 = 雄性
				効果条件表示 = 表側表示
				効果条件任意 = 1
				CALL CARD_CHOOSE_BASIC(決闘者,"相手戦場",ゾーン,場所)
				SIF RESULT == 9999
					RETURN 0
				選択カード:1 = RESULT
				選択カード_ID = RESULT:99
				CALL CARD_EROTICS(選択カード_ID)
				調教対象:1 = RESULT
				IF 調教対象:1 != -1
					調教対象名前:1 = %CALLNAME:(調教対象:1)%
				ELSE
					TRYCALLFORM CARDNAME_{選択カード_ID},"名前"
					調教対象名前:1 = %RESULTS%
				ENDIF

				PRINTFORMW %調教対象名前:0%は衣服をはだけさせ、%調教対象名前:1%へ誘うような仕草をした！
				IF GETVAR(@"%対面者%_MZ_忠実:(選択カード:1)") >= 1
					PRINTFORMW %調教対象名前:1%は飛びつきたい気持ちをグッと堪え、%調教対象名前:0%を睨みつけた。

				ELSE
					PRINTFORMW %調教対象名前:1%は湧き上がる欲望を抑えきれず、%調教対象名前:0%に飛び掛かった！
					IF 調教対象:1 != -1
						IF TALENT:(調教対象:1):形状 == 0
							レイプ回数 = 4
						ELSE
							レイプ回数 = (TALENT:MASTER:形状) - 1
						ENDIF
					ELSE
						レイプ回数 = 4
					ENDIF

					IF 調教対象:0 != -1
						FOR カウンタ,0,レイプ回数
							CALL EROTIC_MOVE("前穴凌辱",調教対象:0,調教対象:1,200)
							絶頂回数 += RESULT:1
						NEXT
						IF 絶頂回数 >= 10
							寝取りフラグ = 1
						ELSE
							寝取りフラグ = 2
						ENDIF

					ELSE
						寝取りフラグ = 2
						PRINTL
						PRINTFORMW %調教対象名前:0%と%調教対象名前:1%の身体が激しく交合う・・・
						PRINTL
					ENDIF

					IF 寝取りフラグ == 1
						PRINTFORMW %調教対象名前:0%は%調教対象名前:1%の激しい凌辱に屈服してしまった・・・
						CALL CARD_GET_CONTROL(対面者,選択カード:0)

					ELSEIF 寝取りフラグ == 2
						PRINTFORMW %調教対象名前:1%は%調教対象名前:0%の妙技に魅了されてしまった！
						CALL CARD_GET_CONTROL(決闘者,選択カード:1)
					ENDIF
				ENDIF
			ENDIF
		ENDIF
	ENDIF
ENDIF
